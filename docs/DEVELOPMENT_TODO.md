# 🚀 TransLearn 开发任务清单

> 按优先级排列的待开发功能清单  
> 📌 = 高优先级 | 🔸 = 中优先级 | 🔹 = 低优先级

---

## 当前状态

✅ **MVP 已完成** - 核心翻译功能可用

---

## 📌 高优先级任务（重要且基础）

### 1. 本地词典翻译器 ⏳

**目标**: 离线查词，节省 AI 成本

**任务清单**:
- [ ] 创建 `src/core/local_dict_translator.py`
- [ ] 实现 `LocalDictTranslator` 类
- [ ] 词典数据结构设计（JSON/SQLite）
- [ ] 词典查询接口
- [ ] 词典数据导入脚本
- [ ] 集成到智能路由
- [ ] 缓存优化

**预计工作量**: 1-2天

---

### 2. 设置界面 ⏳

**目标**: 友好的配置界面，不再手动编辑配置文件

**任务清单**:
- [ ] 创建 `src/ui/settings_dialog.py`
- [ ] 通用设置页（语言、主题）
- [ ] 热键设置页（可视化设置快捷键）
- [ ] 翻译设置页（翻译器选择、AI配置）
- [ ] 外观设置页（窗口大小、透明度）
- [ ] 黑名单管理页
- [ ] 关于页面
- [ ] 配置保存/加载
- [ ] 配置验证

**预计工作量**: 2-3天

---

### 3. 词条详情与编辑 ⏳

**目标**: 完善词库管理功能

**任务清单**:
- [ ] 词条详情对话框
- [ ] 显示完整翻译信息
- [ ] 编辑翻译内容
- [ ] 添加/编辑标签
- [ ] 添加/编辑笔记
- [ ] 删除词条（软删除）
- [ ] 设置熟悉度
- [ ] 保存修改

**预计工作量**: 1-2天

---

### 4. OCR 截图翻译 ⏳

**目标**: 支持图片中的文字翻译

**任务清单**:
- [ ] 安装 PaddleOCR 依赖
- [ ] 创建 `src/core/ocr_extractor.py`
- [ ] 实现截图遮罩界面
- [ ] 框选区域功能
- [ ] OCR 文字识别
- [ ] 识别结果显示
- [ ] 集成到翻译流程
- [ ] 热键触发（Ctrl+Shift+Q）
- [ ] 性能优化

**预计工作量**: 2-3天

---

## 🔸 中优先级任务（增强体验）

### 5. 主窗口搜索功能 ⏳

**任务清单**:
- [ ] 搜索框事件连接
- [ ] 实时搜索
- [ ] 高亮显示
- [ ] 搜索历史

**预计工作量**: 0.5天

---

### 6. 发音功能 (TTS) ⏳

**任务清单**:
- [ ] 创建 `src/core/pronunciation.py`
- [ ] 集成 edge-tts
- [ ] 发音按钮UI
- [ ] 多语言支持
- [ ] 音频缓存
- [ ] 错误处理

**预计工作量**: 1天

---

### 7. 统计图表 ⏳

**任务清单**:
- [ ] 选择图表库（matplotlib/pyqtgraph）
- [ ] 今日统计卡片
- [ ] 词库增长曲线
- [ ] 学习时长统计
- [ ] AI 调用统计
- [ ] 图表交互

**预计工作量**: 1-2天

---

### 8. 标签系统完善 ⏳

**任务清单**:
- [ ] 创建 `src/data/tag_repository.py`
- [ ] 标签管理界面
- [ ] 标签创建/编辑/删除
- [ ] 标签颜色选择器
- [ ] 标签筛选功能
- [ ] 标签统计

**预计工作量**: 1天

---

### 9. 收藏功能实现 ⏳

**任务清单**:
- [ ] 收藏按钮逻辑
- [ ] 保存到数据库
- [ ] 收藏列表
- [ ] 取消收藏

**预计工作量**: 0.5天

---

### 10. 上下文捕获 ⏳

**任务清单**:
- [ ] 创建 `src/services/context_service.py`
- [ ] 获取活动窗口标题（Windows API）
- [ ] 检测应用程序名称
- [ ] 提取URL（浏览器）
- [ ] 保存上下文信息

**预计工作量**: 1天

---

## 🔹 低优先级任务（锦上添花）

### 11. SM-2 复习算法 ⏳

**任务清单**:
- [ ] 创建 `src/core/review_algorithm.py`
- [ ] SM-2 算法实现
- [ ] 熟悉度计算
- [ ] 下次复习时间计算
- [ ] 难度调整
- [ ] 复习记录

**预计工作量**: 1-2天

---

### 12. 复习界面 ⏳

**任务清单**:
- [ ] 创建 `src/ui/review_window.py`
- [ ] 复习队列
- [ ] 卡片翻转动画
- [ ] 答题按钮（简单/困难/忘记）
- [ ] 进度显示
- [ ] 复习统计

**预计工作量**: 2天

---

### 13. 主题切换 ⏳

**任务清单**:
- [ ] 创建 `src/ui/styles/` 目录
- [ ] 设计明亮主题 QSS
- [ ] 设计暗色主题 QSS
- [ ] 主题切换逻辑
- [ ] 自动切换（跟随系统）
- [ ] 保存主题选择

**预计工作量**: 1-2天

---

### 14. 数据导出 ⏳

**任务清单**:
- [ ] 创建 `src/services/export_service.py`
- [ ] CSV 导出
- [ ] JSON 导出
- [ ] 导出对话框
- [ ] 选择导出范围
- [ ] 进度显示

**预计工作量**: 1天

---

### 15. 备份与恢复 ⏳

**任务清单**:
- [ ] 创建 `src/data/backup_service.py`
- [ ] 自动备份（定时）
- [ ] 手动备份
- [ ] 备份文件管理
- [ ] 恢复功能
- [ ] 备份验证

**预计工作量**: 1-2天

---

### 16. 黑名单应用过滤 ⏳

**任务清单**:
- [ ] 获取活动窗口信息
- [ ] 黑名单检查
- [ ] 禁止翻译逻辑
- [ ] 黑名单界面管理

**预计工作量**: 0.5天

---

### 17. 自定义图标 ⏳

**任务清单**:
- [ ] 设计应用图标
- [ ] 创建 .ico 文件
- [ ] 更新托盘图标
- [ ] 更新窗口图标

**预计工作量**: 0.5天

---

### 18. 打包部署 ⏳

**任务清单**:
- [ ] PyInstaller 配置文件
- [ ] 打包脚本
- [ ] 单文件打包测试
- [ ] 目录打包测试
- [ ] 资源文件处理
- [ ] 配置文件处理
- [ ] 依赖库优化

**预计工作量**: 1-2天

---

### 19. 安装程序 ⏳

**任务清单**:
- [ ] Inno Setup 脚本
- [ ] 安装向导设计
- [ ] 桌面快捷方式
- [ ] 开机自启动选项
- [ ] 卸载程序

**预计工作量**: 1天

---

## 开发顺序建议

### 第一轮（核心补充）- 5-9天
1. 本地词典翻译器（1-2天）
2. 设置界面（2-3天）
3. 词条详情与编辑（1-2天）
4. 主窗口搜索功能（0.5天）
5. 收藏功能实现（0.5天）

### 第二轮（体验增强）- 5-8天
6. OCR 截图翻译（2-3天）
7. 发音功能（1天）
8. 统计图表（1-2天）
9. 标签系统完善（1天）
10. 上下文捕获（1天）

### 第三轮（高级功能）- 5-8天
11. SM-2 复习算法（1-2天）
12. 复习界面（2天）
13. 主题切换（1-2天）
14. 数据导出（1天）
15. 备份与恢复（1-2天）

### 第四轮（完善打磨）- 3-4天
16. 黑名单应用过滤（0.5天）
17. 自定义图标（0.5天）
18. 打包部署（1-2天）
19. 安装程序（1天）

**总预计工作量**: 18-29天

---

## 开发注意事项

### 代码规范
- 遵循现有代码风格
- 添加类型注解
- 编写文档字符串
- 使用 loguru 记录日志

### 测试
- 手动测试核心功能
- 记录问题和bug
- 逐步修复

### 文档
- 更新 FEATURE_CHECKLIST.md
- 更新 API.md (如有新接口)
- 更新 USAGE.md (如有新功能)

### 提交
- 每完成一个功能提交一次
- commit 信息清晰
- 关联issue/任务

---

## 当前进度

- ✅ MVP 核心功能
- ⏳ 准备开发第一轮功能

---

**最后更新**: 2025年11月8日

